# ProofOfInfluence - Cursor AI Rules

## é¡¹ç›®æ¦‚è¿°
Web3 link-in-bio å¹³å°ï¼ˆç±»ä¼¼ Linktree + Web3ï¼‰ï¼šç”¨æˆ·å¯åˆ›å»ºä¸ªæ€§åŒ–å±•ç¤ºé¡µé¢ï¼Œé›†æˆé’±åŒ…åŠŸèƒ½ï¼Œè¿½è¸ªå½±å“åŠ›æ•°æ®ã€‚

## ğŸš¨ é‡è¦ï¼šä»… Replit éƒ¨ç½²
- **ä¸åšæœ¬åœ°éƒ¨ç½²** - æ‰€æœ‰å¼€å‘å’Œéƒ¨ç½²éƒ½åœ¨ Replit ä¸Šè¿›è¡Œ
- **ä¸è¦æåŠæœ¬åœ°ç¯å¢ƒ** - ä¸è¦å»ºè®®ç”¨æˆ·è¿è¡Œ npm run dev æˆ–é…ç½® .env.local
- **æ‰€æœ‰é…ç½®åœ¨ Replit Secrets** - ç¯å¢ƒå˜é‡ç»Ÿä¸€åœ¨ Replit Secrets é…ç½®
- **è‡ªåŠ¨éƒ¨ç½²** - Git push å Replit è‡ªåŠ¨éƒ¨ç½²

## æŠ€æœ¯æ ˆ
- **Frontend**: React 18, TypeScript, Vite, TailwindCSS, Shadcn UI
- **Backend**: Express, TypeScript, Drizzle ORM, PostgreSQL (Neon)
- **Auth**: Replit Auth (Google OAuth) + MetaMask Web3
- **Payment**: Stripe Checkout (çµæ´»å®šä»·)
- **State**: TanStack Query (React Query)
- **Routing**: Wouter
- **Deployment**: Replit Autoscale (è‡ªåŠ¨éƒ¨ç½²)

## å¼€å‘è§„èŒƒ

### TypeScript
- ä½¿ç”¨ strict æ¨¡å¼
- ä¼˜å…ˆä½¿ç”¨ interface å®šä¹‰ props
- é¿å…ä½¿ç”¨ anyï¼Œä½¿ç”¨ unknown æ›¿ä»£
- å…±äº«ç±»å‹å®šä¹‰åœ¨ shared/schema.ts

### React ç»„ä»¶
- ä½¿ç”¨å‡½æ•°å¼ç»„ä»¶ + hooks
- Props è§£æ„å¹¶æ·»åŠ ç±»å‹æ³¨è§£
- æ·»åŠ  data-testid å±æ€§ç”¨äºæµ‹è¯•
- äº‹ä»¶å¤„ç†å‡½æ•°å‘½åï¼šhandle[EventName]
- ç¤ºä¾‹ï¼š
```typescript
interface MyComponentProps {
  title: string;
  onUpdate: (value: string) => void;
}

export default function MyComponent({ title, onUpdate }: MyComponentProps) {
  const handleChange = (e: React.ChangeEvent<HTMLInputElement>) => {
    onUpdate(e.target.value);
  };
  
  return <input data-testid="input-title" value={title} onChange={handleChange} />;
}
```

### UI ç»„ä»¶
- ä¼˜å…ˆä½¿ç”¨ Shadcn UI ç»„ä»¶ï¼ˆclient/src/components/ui/ï¼‰
- éµå¾ª design_guidelines.md çš„è®¾è®¡è§„èŒƒ
- ç§»åŠ¨ä¼˜å…ˆå“åº”å¼è®¾è®¡ï¼ˆbase â†’ md â†’ lgï¼‰
- ä½¿ç”¨ Tailwind å·¥å…·ç±»ï¼Œé¿å…è‡ªå®šä¹‰ CSS

### API è®¾è®¡
- RESTful é£æ ¼
- è·¯ç”±å®šä¹‰åœ¨ server/routes.ts
- ä½¿ç”¨ Zod éªŒè¯è¯·æ±‚æ•°æ®
- é”™è¯¯è¿”å›æ ¼å¼ï¼š`{ message: string }`
- æˆåŠŸè¿”å›å®é™…æ•°æ®å¯¹è±¡

### æ•°æ®åº“
- Schema å®šä¹‰åœ¨ shared/schema.ts
- ä½¿ç”¨ Drizzle ORM
- è¿ç§»å‘½ä»¤ï¼šnpm run db:push
- æ‰€æœ‰è¡¨åŒ…å« createdAt/updatedAt æ—¶é—´æˆ³

## æ–‡ä»¶ç»„ç»‡
```
client/src/
  â”œâ”€â”€ components/       # React ç»„ä»¶
  â”‚   â”œâ”€â”€ ui/          # Shadcn UI åŸºç¡€ç»„ä»¶
  â”‚   â””â”€â”€ *.tsx        # ä¸šåŠ¡ç»„ä»¶
  â”œâ”€â”€ pages/           # é¡µé¢ç»„ä»¶
  â”‚   â”œâ”€â”€ Landing.tsx  # è½åœ°é¡µ
  â”‚   â”œâ”€â”€ Dashboard.tsx # ç”¨æˆ·ä»ªè¡¨æ¿
  â”‚   â””â”€â”€ PublicProfile.tsx # å…¬å¼€èµ„æ–™é¡µ
  â”œâ”€â”€ hooks/           # è‡ªå®šä¹‰ hooks
  â””â”€â”€ lib/             # å·¥å…·å‡½æ•°

server/
  â”œâ”€â”€ index.ts         # Express æœåŠ¡å™¨å…¥å£
  â”œâ”€â”€ routes.ts        # API è·¯ç”±
  â”œâ”€â”€ storage.ts       # æ•°æ®åº“æŠ½è±¡å±‚
  â””â”€â”€ replitAuth.ts    # è®¤è¯é€»è¾‘

shared/
  â””â”€â”€ schema.ts        # å…±äº« Schema å’Œç±»å‹
```

## MVP åŸåˆ™
- **ç®€å•ä¼˜å…ˆ**: ä¼˜å…ˆå®ç°æ ¸å¿ƒåŠŸèƒ½ï¼Œé¿å…è¿‡åº¦è®¾è®¡
- **å°æ­¥å¿«è·‘**: æ¯æ¬¡ä¿®æ”¹ä¿æŒå°èŒƒå›´ï¼ˆå•ä¸ªåŠŸèƒ½/ç»„ä»¶ï¼‰
- **å¿«é€Ÿè¿­ä»£**: åŠŸèƒ½èƒ½ç”¨å°±å…ˆä¸Šçº¿ï¼Œæ€§èƒ½ä¼˜åŒ–åç»­è¿›è¡Œ
- **å»¶è¿ŸæŠ½è±¡**: ä¸è¦è¿‡æ—©æŠ½è±¡ï¼Œå…ˆè®©ä»£ç å·¥ä½œèµ·æ¥
- **Replit Only**: æ‰€æœ‰å¼€å‘å’Œéƒ¨ç½²éƒ½åœ¨ Replitï¼Œä¸æ¶‰åŠæœ¬åœ°ç¯å¢ƒ

## å‘½åè§„èŒƒ
- ç»„ä»¶æ–‡ä»¶ï¼šPascalCase (ä¾‹ï¼šProfileEditor.tsx)
- å·¥å…·å‡½æ•°ï¼šcamelCase (ä¾‹ï¼šapiRequest.ts)
- å¸¸é‡ï¼šUPPER_SNAKE_CASE
- CSS ç±»ï¼škebab-case (Tailwind)

## Git Commit è§„èŒƒ
- feat: æ–°åŠŸèƒ½
- fix: ä¿®å¤ bug
- refactor: é‡æ„
- style: æ ·å¼è°ƒæ•´
- docs: æ–‡æ¡£æ›´æ–°
- chore: æ„å»º/å·¥å…·å˜æ›´

ç¤ºä¾‹ï¼š
- feat: add testimonials carousel to landing page
- fix: wallet connection timeout issue
- refactor: simplify profile update logic

## æµ‹è¯•
- å…³é”®ç»„ä»¶æ·»åŠ  data-testid
- ä¼˜å…ˆæµ‹è¯•ç”¨æˆ·æµç¨‹ï¼ˆç™»å½•ã€åˆ›å»ºé“¾æ¥ã€æŸ¥çœ‹èµ„æ–™ï¼‰
- æš‚ä¸å¼ºåˆ¶è¦æ±‚å•å…ƒæµ‹è¯•è¦†ç›–ç‡ï¼ˆMVP é˜¶æ®µï¼‰

## æ€§èƒ½
- å›¾ç‰‡ä½¿ç”¨æ‡’åŠ è½½
- å¤§åˆ—è¡¨è€ƒè™‘è™šæ‹ŸåŒ–
- é¿å…ä¸å¿…è¦çš„ re-renderï¼ˆuseMemo/useCallbackï¼‰
- API è¯·æ±‚ä½¿ç”¨ React Query ç¼“å­˜

## å®‰å…¨
- æ°¸è¿œä¸è¦åœ¨å®¢æˆ·ç«¯ä»£ç ä¸­æš´éœ²å¯†é’¥
- ä½¿ç”¨ç¯å¢ƒå˜é‡å­˜å‚¨æ•æ„Ÿä¿¡æ¯
- å¯¹ç”¨æˆ·è¾“å…¥è¿›è¡ŒéªŒè¯å’Œæ¸…ç†
- API è·¯ç”±æ·»åŠ è®¤è¯ä¸­é—´ä»¶ (isAuthenticated)

## å¸¸è§ä»»åŠ¡ç¤ºä¾‹

### æ·»åŠ æ–°çš„ API ç«¯ç‚¹
1. åœ¨ server/routes.ts æ·»åŠ è·¯ç”±
2. ä½¿ç”¨ isAuthenticated ä¸­é—´ä»¶ä¿æŠ¤éœ€è¦è®¤è¯çš„è·¯ç”±
3. ä½¿ç”¨ Zod schema éªŒè¯è¯·æ±‚ä½“
4. è°ƒç”¨ storage å±‚æ–¹æ³•æ“ä½œæ•°æ®åº“
5. è¿”å› JSON å“åº”

### åˆ›å»ºæ–°ç»„ä»¶
1. åœ¨ client/src/components/ åˆ›å»ºæ–‡ä»¶
2. å®šä¹‰ Props interface
3. ä½¿ç”¨ Shadcn UI åŸºç¡€ç»„ä»¶
4. æ·»åŠ  data-testid
5. åœ¨é¡µé¢ä¸­å¼•å…¥ä½¿ç”¨

### ä¿®æ”¹æ•°æ®åº“ Schema
1. ç¼–è¾‘ shared/schema.ts
2. è¿è¡Œ npm run db:push æ¨é€å˜æ›´
3. æ›´æ–°ç›¸å…³çš„ TypeScript ç±»å‹
4. ä¿®æ”¹å—å½±å“çš„ API å’Œç»„ä»¶

## è°ƒè¯•æŠ€å·§
- ä½¿ç”¨ console.log å¿«é€Ÿè°ƒè¯•ï¼ˆè®°å¾—åˆ é™¤ï¼‰
- Chrome DevTools React ç»„ä»¶æ ‘
- Network é¢æ¿æŸ¥çœ‹ API è¯·æ±‚
- Replit çš„ Shell æŸ¥çœ‹æœåŠ¡å™¨æ—¥å¿—

## æ³¨æ„äº‹é¡¹
- ä¸è¦ç›´æ¥ä¿®æ”¹ node_modules
- ä¸è¦æäº¤ .env æ–‡ä»¶åˆ° Git
- å¤§å‹é‡æ„å‰å…ˆåˆ›å»ºæ–°åˆ†æ”¯
- éƒ¨ç½²å‰åœ¨æœ¬åœ°æµ‹è¯•æ‰€æœ‰åŠŸèƒ½

